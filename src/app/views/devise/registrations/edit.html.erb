<% provide(:title, "ユーザー編集") %>
<div class="container-fluid position-absolute z-2">
  <div class="user col-lg-7 mx-auto mt-3 p-5">
    <h2 class="mb-2 form_title">プロフィール編集</h2>
    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
      <%= render "devise/shared/error_messages", resource: resource %>
      <div class="field user_image edit_user_image">
        <%= f.file_field :user_image, style: 'display:none;', id: :img_field %>
        <% if @user.user_image.present? %>
          <%= image_tag @user.user_image.url, id: :img_prev, onClick: "$('#img_field').click()" %>
        <% else %>
          <%= image_tag 'default_user.jpg', id: :img_prev, onClick: "$('#img_field').click()" %>
        <% end %>
      </div>
      <div class="field">
        <%= f.text_field :name, autocomplete: "name", placeholder: "ニックネーム", class: "input_field" %>
      </div>
      <div class="field">
        <%= f.email_field :email, autocomplete: "email", placeholder: "メールアドレス", class: "input_field" %>
      </div>
      <div class="field">
        <%= f.text_area :introduction, placeholder: "自己紹介", class: "input_field text_area" %>
      </div>
      <div class="mb-4">
        <%= f.submit "変更する", class: "form_btn" %>
      </div>
    <% end %>
  </div>
</div>
<%= render "shared/animated_background" %>
